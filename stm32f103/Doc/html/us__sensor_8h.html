<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Little_Helper: Services/Drivers_Car/us_sensor.h File Reference</title>
<link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="favicons/manifest.json">
<link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Miles Power">
<meta name="application-name" content="Miles Power">
<meta name="msapplication-config" content="favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img style="max-height: 60px;" alt="Logo" src="miles_power.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Little_Helper
   </div>
   <div id="projectbrief">Documentation of the code for the STM32. Part of a project to build an autonomous car using a RasPi, a STM32, hall sensors, ultrasonic sensors and a camera.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d69fddb65e10ed1e1aad5b4f2a8c0135.html">Services</a></li><li class="navelem"><a class="el" href="dir_af579ff08f9190f31f615e0227c317a9.html">Drivers_Car</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">us_sensor.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sensors__common_8h_source.html">sensors_common.h</a>&quot;</code><br />
</div>
<p><a href="us__sensor_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7ee08f5a9ad851d009e8a3a202f6b7c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#a7ee08f5a9ad851d009e8a3a202f6b7c1">ULTRASONIC_CONVERSION_CONSTANT</a>&#160;&#160;&#160;58.2</td></tr>
<tr class="separator:a7ee08f5a9ad851d009e8a3a202f6b7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e715566806a76d91194db2be829e0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#a26e715566806a76d91194db2be829e0b">ULTRASONIC_DELAY_RESET_ECHO_PIN</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a26e715566806a76d91194db2be829e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:accedaa0f79c7182970ff5d18643221c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#accedaa0f79c7182970ff5d18643221c3">ultrasonic_get_distance</a> (<a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a> pos)</td></tr>
<tr class="memdesc:accedaa0f79c7182970ff5d18643221c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the pulse length of the echo pin into a distance.  <a href="#accedaa0f79c7182970ff5d18643221c3">More...</a><br /></td></tr>
<tr class="separator:accedaa0f79c7182970ff5d18643221c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1ec498a7b02bcc310bf5565c9d64da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#afa1ec498a7b02bcc310bf5565c9d64da">ultrasonic_trig_all</a> (void)</td></tr>
<tr class="memdesc:afa1ec498a7b02bcc310bf5565c9d64da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the pulse which trig the ultrasonic sensors.  <a href="#afa1ec498a7b02bcc310bf5565c9d64da">More...</a><br /></td></tr>
<tr class="separator:afa1ec498a7b02bcc310bf5565c9d64da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dcf04da9a20dd292b203bafdafc999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#ad9dcf04da9a20dd292b203bafdafc999">ultrasonic_init</a> (void)</td></tr>
<tr class="memdesc:ad9dcf04da9a20dd292b203bafdafc999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the 6 ultrasonic sensors : configuration of 6 echo pins as input with EXTI and 1 trig pin as output push-pull.  <a href="#ad9dcf04da9a20dd292b203bafdafc999">More...</a><br /></td></tr>
<tr class="separator:ad9dcf04da9a20dd292b203bafdafc999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a5f1390ee4fae449aacd71a3b9ecec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#a80a5f1390ee4fae449aacd71a3b9ecec">ultrasonic_callback</a> (<a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a> pos)</td></tr>
<tr class="memdesc:a80a5f1390ee4fae449aacd71a3b9ecec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridable callback function for ultrasonic interruptions.  <a href="#a80a5f1390ee4fae449aacd71a3b9ecec">More...</a><br /></td></tr>
<tr class="separator:a80a5f1390ee4fae449aacd71a3b9ecec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe4f4b5d3381b55548e59973387799d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="us__sensor_8h.html#a4fe4f4b5d3381b55548e59973387799d">get_ultrasonic_position</a> (uint16_t <a class="el" href="struct_g_p_i_o___pin.html">GPIO_Pin</a>)</td></tr>
<tr class="memdesc:a4fe4f4b5d3381b55548e59973387799d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717" title="Values corresponding to an ultrasonic sensor position. ">Ultrasonic_Position</a> of the ultrasonic sensor for a given GPIO pin.  <a href="#a4fe4f4b5d3381b55548e59973387799d">More...</a><br /></td></tr>
<tr class="separator:a4fe4f4b5d3381b55548e59973387799d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7ee08f5a9ad851d009e8a3a202f6b7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee08f5a9ad851d009e8a3a202f6b7c1">&#9670;&nbsp;</a></span>ULTRASONIC_CONVERSION_CONSTANT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ULTRASONIC_CONVERSION_CONSTANT&#160;&#160;&#160;58.2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constant conversion to calculate the distance between the ultrasonic sensor and an object according to the passed time between the trig of the pulse and the detection of the return of the pulse </p>

</div>
</div>
<a id="a26e715566806a76d91194db2be829e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e715566806a76d91194db2be829e0b">&#9670;&nbsp;</a></span>ULTRASONIC_DELAY_RESET_ECHO_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ULTRASONIC_DELAY_RESET_ECHO_PIN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time to wait the reset of the echo pin and the reinitialization of the pin </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4fe4f4b5d3381b55548e59973387799d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe4f4b5d3381b55548e59973387799d">&#9670;&nbsp;</a></span>get_ultrasonic_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a> get_ultrasonic_position </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>GPIO_Pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the <a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717" title="Values corresponding to an ultrasonic sensor position. ">Ultrasonic_Position</a> of the ultrasonic sensor for a given GPIO pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="struct_g_p_i_o___pin.html">GPIO_Pin</a></td><td>ultrasonic sensor GPIO echo pin </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717" title="Values corresponding to an ultrasonic sensor position. ">Ultrasonic_Position</a></td><td>of the ultrasonic sensor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80a5f1390ee4fae449aacd71a3b9ecec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a5f1390ee4fae449aacd71a3b9ecec">&#9670;&nbsp;</a></span>ultrasonic_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ultrasonic_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overridable callback function for ultrasonic interruptions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>ultrasonic sensor position</td></tr>
  </table>
  </dd>
</dl>
<p>Overridable callback function for ultrasonic interruptions. </p>

</div>
</div>
<a id="accedaa0f79c7182970ff5d18643221c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accedaa0f79c7182970ff5d18643221c3">&#9670;&nbsp;</a></span>ultrasonic_get_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ultrasonic_get_distance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717">Ultrasonic_Position</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the pulse length of the echo pin into a distance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td><a class="el" href="sensors__common_8h.html#a492d5c22484a3fddcdc6672557b07717" title="Values corresponding to an ultrasonic sensor position. ">Ultrasonic_Position</a> of the sensor </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">distance</td><td>in centimeters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9dcf04da9a20dd292b203bafdafc999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9dcf04da9a20dd292b203bafdafc999">&#9670;&nbsp;</a></span>ultrasonic_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ultrasonic_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization of the 6 ultrasonic sensors : configuration of 6 echo pins as input with EXTI and 1 trig pin as output push-pull. </p>

</div>
</div>
<a id="afa1ec498a7b02bcc310bf5565c9d64da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1ec498a7b02bcc310bf5565c9d64da">&#9670;&nbsp;</a></span>ultrasonic_trig_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ultrasonic_trig_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the pulse which trig the ultrasonic sensors. </p>
<p>All ultrasonic sensors are connected to the same trigger </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
