\hypertarget{sensor___i_t_8c}{}\section{Drivers/sensor\+\_\+\+IT.c File Reference}
\label{sensor___i_t_8c}\index{Drivers/sensor\+\_\+\+I\+T.\+c@{Drivers/sensor\+\_\+\+I\+T.\+c}}


Driver layer for the G\+P\+IO sensors based on interruptions.  


{\ttfamily \#include \char`\"{}sensor\+\_\+\+I\+T.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}I\+T\+\_\+functions.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sensor___i_t_8c_a77393ca72a405cd4ac48be4a88b86afa}{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM}(n)
\begin{DoxyCompactList}\small\item\em check on which pin is connected the sensor, for exti line 0 to 4 and then do the needed configurations \end{DoxyCompactList}\item 
\#define \hyperlink{sensor___i_t_8c_aced349a9d250d7f202b80288ed0937a2}{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2}(n,  n1,  n2)
\begin{DoxyCompactList}\small\item\em check on which pin is connected the sensor, for exti line 5 to 15 and then do the needed configurations \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{sensor___i_t_8c_aebee2d1b46fd45b969c41c6314ce06d4}{E\+X\+T\+I\+\_\+\+Config} (\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$init\+Struct\+Sensor)
\begin{DoxyCompactList}\small\item\em exti configuration (line, port, priority, trigger type) \end{DoxyCompactList}\item 
void \hyperlink{sensor___i_t_8c_af89cc1cac5354735e7d2ceac46f26c4a}{Sensor\+\_\+\+I\+T\+\_\+\+Config} (\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$init\+Struct\+Sensor)
\begin{DoxyCompactList}\small\item\em Do the configuration for a given sensor based on interruption. Configures the G\+P\+IO and the E\+X\+TI. \end{DoxyCompactList}\item 
unsigned int \hyperlink{sensor___i_t_8c_a7206e8a81d2bd33751a403b620eaf53d}{Sensor\+\_\+\+I\+T\+\_\+\+Read} (\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$struct\+Sensor)
\begin{DoxyCompactList}\small\item\em return the value from the sensor \end{DoxyCompactList}\item 
void \hyperlink{sensor___i_t_8c_a53ed3f05aa8a0ffcbfc9079a6bafd628}{G\+P\+I\+O\+\_\+\+Configuration} (\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$init\+Struct\+Sensor)
\begin{DoxyCompactList}\small\item\em gpio configuration (pin, port, mode) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Driver layer for the G\+P\+IO sensors based on interruptions. 



\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{sensor___i_t_8c_a77393ca72a405cd4ac48be4a88b86afa}\label{sensor___i_t_8c_a77393ca72a405cd4ac48be4a88b86afa}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM@{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM}}
\index{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM@{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM}{IF\_DEFINE\_NUM}}
{\footnotesize\ttfamily \#define I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+UM(\begin{DoxyParamCaption}\item[{}]{n }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if} (initStructSensor->pin == GPIO\_Pin\_##n) \{ \(\backslash\)
        GPIO\_PinSource\_Sensor = GPIO\_PinSource##n;\(\backslash\)
        EXTI\_Line\_Sensor = EXTI\_Line##n;\(\backslash\)
        EXTI\_IRQn\_Sensor = EXTI##n##\_IRQn;\(\backslash\)
    \}\(\backslash\)
\end{DoxyCode}


check on which pin is connected the sensor, for exti line 0 to 4 and then do the needed configurations 

A macro is a copy-\/paste \char`\"{}\#\#x\char`\"{} allow to concatenate the param to the end of a string \char`\"{}\#\#x\#\#\char`\"{} allow to concatenante the param inside a string 
\begin{DoxyParams}{Parameters}
{\em n} & number of the G\+P\+IO pin \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{sensor___i_t_8c_aced349a9d250d7f202b80288ed0937a2}\label{sensor___i_t_8c_aced349a9d250d7f202b80288ed0937a2}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2@{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2}}
\index{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2@{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2}{IF\_DEFINE\_NUM\_2}}
{\footnotesize\ttfamily \#define I\+F\+\_\+\+D\+E\+F\+I\+N\+E\+\_\+\+N\+U\+M\+\_\+2(\begin{DoxyParamCaption}\item[{}]{n,  }\item[{}]{n1,  }\item[{}]{n2 }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if} (initStructSensor->pin == GPIO\_Pin\_##n) \{ \(\backslash\)
        GPIO\_PinSource\_Sensor = GPIO\_PinSource##n;\(\backslash\)
        EXTI\_Line\_Sensor = EXTI\_Line##n;\(\backslash\)
        EXTI\_IRQn\_Sensor = EXTI##n1##\_##n2##\_IRQn;\(\backslash\)
    \}\(\backslash\)
\end{DoxyCode}


check on which pin is connected the sensor, for exti line 5 to 15 and then do the needed configurations 

A macro is a copy-\/paste \char`\"{}\#\#x\char`\"{} allow to concatenate the param to the end of a string \char`\"{}\#\#x\#\#\char`\"{} allow to concatenante the param inside a string 
\begin{DoxyParams}{Parameters}
{\em n} & number of the G\+P\+IO pin \\
\hline
{\em n1} & first interval number for the exti I\+R\+Qn \\
\hline
{\em n2} & second interval number for the exti I\+R\+Qn \\
\hline
\end{DoxyParams}


\subsection{Function Documentation}
\mbox{\Hypertarget{sensor___i_t_8c_aebee2d1b46fd45b969c41c6314ce06d4}\label{sensor___i_t_8c_aebee2d1b46fd45b969c41c6314ce06d4}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!E\+X\+T\+I\+\_\+\+Config@{E\+X\+T\+I\+\_\+\+Config}}
\index{E\+X\+T\+I\+\_\+\+Config@{E\+X\+T\+I\+\_\+\+Config}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{E\+X\+T\+I\+\_\+\+Config()}{EXTI\_Config()}}
{\footnotesize\ttfamily void E\+X\+T\+I\+\_\+\+Config (\begin{DoxyParamCaption}\item[{\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$}]{init\+Struct\+Sensor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



exti configuration (line, port, priority, trigger type) 


\begin{DoxyParams}{Parameters}
{\em init\+Struct\+Sensor} & sensor structure contains the information necessary to the configuration and is read by this function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{sensor___i_t_8c_a53ed3f05aa8a0ffcbfc9079a6bafd628}\label{sensor___i_t_8c_a53ed3f05aa8a0ffcbfc9079a6bafd628}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!G\+P\+I\+O\+\_\+\+Configuration@{G\+P\+I\+O\+\_\+\+Configuration}}
\index{G\+P\+I\+O\+\_\+\+Configuration@{G\+P\+I\+O\+\_\+\+Configuration}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{G\+P\+I\+O\+\_\+\+Configuration()}{GPIO\_Configuration()}}
{\footnotesize\ttfamily void G\+P\+I\+O\+\_\+\+Configuration (\begin{DoxyParamCaption}\item[{\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$}]{init\+Struct\+Sensor }\end{DoxyParamCaption})}



gpio configuration (pin, port, mode) 


\begin{DoxyParams}{Parameters}
{\em init\+Struct\+Sensor} & sensor structure contains the information necessary to the configuration and is read by this function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{sensor___i_t_8c_af89cc1cac5354735e7d2ceac46f26c4a}\label{sensor___i_t_8c_af89cc1cac5354735e7d2ceac46f26c4a}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!Sensor\+\_\+\+I\+T\+\_\+\+Config@{Sensor\+\_\+\+I\+T\+\_\+\+Config}}
\index{Sensor\+\_\+\+I\+T\+\_\+\+Config@{Sensor\+\_\+\+I\+T\+\_\+\+Config}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{Sensor\+\_\+\+I\+T\+\_\+\+Config()}{Sensor\_IT\_Config()}}
{\footnotesize\ttfamily void Sensor\+\_\+\+I\+T\+\_\+\+Config (\begin{DoxyParamCaption}\item[{\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$}]{init\+Struct\+Sensor }\end{DoxyParamCaption})}



Do the configuration for a given sensor based on interruption. Configures the G\+P\+IO and the E\+X\+TI. 


\begin{DoxyParams}{Parameters}
{\em init\+Struct\+Sensor} & sensor structure contains the information necessary to the configuration and is read by this function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{sensor___i_t_8c_a7206e8a81d2bd33751a403b620eaf53d}\label{sensor___i_t_8c_a7206e8a81d2bd33751a403b620eaf53d}} 
\index{sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}!Sensor\+\_\+\+I\+T\+\_\+\+Read@{Sensor\+\_\+\+I\+T\+\_\+\+Read}}
\index{Sensor\+\_\+\+I\+T\+\_\+\+Read@{Sensor\+\_\+\+I\+T\+\_\+\+Read}!sensor\+\_\+\+I\+T.\+c@{sensor\+\_\+\+I\+T.\+c}}
\subsubsection{\texorpdfstring{Sensor\+\_\+\+I\+T\+\_\+\+Read()}{Sensor\_IT\_Read()}}
{\footnotesize\ttfamily unsigned int Sensor\+\_\+\+I\+T\+\_\+\+Read (\begin{DoxyParamCaption}\item[{\hyperlink{struct_sensor___i_t___type_def}{Sensor\+\_\+\+I\+T\+\_\+\+Type\+Def} $\ast$}]{struct\+Sensor }\end{DoxyParamCaption})}



return the value from the sensor 


\begin{DoxyParams}{Parameters}
{\em struct\+Sensor} & sensor structure is read by this function \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em value} & read from the sensor \\
\hline
\end{DoxyRetVals}
